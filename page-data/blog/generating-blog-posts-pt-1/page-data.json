{"componentChunkName":"component---src-components-post-content-tsx","path":"/blog/generating-blog-posts-pt-1","result":{"data":{"markdownRemark":{"html":"<h2>🚧 Caution: Unfinished Post 👷‍</h2>\n<h2>WTH is plop?</h2>\n<blockquote>\n<p>“a small tool that gives you a simple way to generate code or any other type of flat text files in a consistent way”</p>\n</blockquote>\n<p>It's a handy highly customizable CLI tools that allows you to generate code based on functions and questions you configure.\nYou can set up a CLI questionnaire that when you fill it out, and it will generate code based on the functions you write.</p>\n<p><a href=\"https://github.com/plopjs/plop\">Check it</a> out for yourself</p>\n<h2>Step 1: Install plop</h2>\n<p>Add it your project with</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">yarn add plop</code></pre></div>\n<h2>Step 2: Prepare your directory</h2>\n<div class=\"gatsby-highlight\" data-language=\"dir\"><pre class=\"language-dir\"><code class=\"language-dir\">📦generators\n┣ 📂templates\n┃ ┗ 📜blog-post-md.template\n┣ 📜blog-post-generator.js\n┣ 📜plopfile.js\n┗ 📜util.js</code></pre></div>\n<h2>Step 3: Add customer scripts to <code class=\"language-text\">package.json</code></h2>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"generate\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"plop --plopfile ./generators/plopfile.js\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"generate-build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"plop --plopfile ./generators/plopfile.js &amp;&amp; gatsby build\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Step 4: Create your <code class=\"language-text\">plopfile</code> index</h2>\n<p><code class=\"language-text\">plopfile.js</code>\nThis is the \"entry\" file. This loads up all your generators.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">plop</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  plop<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./blog-post-generator.js\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Step 5: Create your generator</h2>\n<p><code class=\"language-text\">blog-post-generator.js</code></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> inputRequired <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./util\"</span><span class=\"token punctuation\">)</span>\n\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">plop</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  plop<span class=\"token punctuation\">.</span><span class=\"token function\">setGenerator</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"blog post\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    prompts<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        type<span class=\"token operator\">:</span> <span class=\"token string\">\"input\"</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"title\"</span><span class=\"token punctuation\">,</span>\n        message<span class=\"token operator\">:</span> <span class=\"token string\">\"Blog post title?\"</span><span class=\"token punctuation\">,</span>\n        validate<span class=\"token operator\">:</span> <span class=\"token function\">inputRequired</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"title\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        type<span class=\"token operator\">:</span> <span class=\"token string\">\"input\"</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"tags\"</span><span class=\"token punctuation\">,</span>\n        message<span class=\"token operator\">:</span> <span class=\"token string\">\"tags? (separate with coma)\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        type<span class=\"token operator\">:</span> <span class=\"token string\">\"confirm\"</span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token string\">\"draft\"</span><span class=\"token punctuation\">,</span>\n        message<span class=\"token operator\">:</span> <span class=\"token string\">\"Is it a draft?\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">actions</span><span class=\"token operator\">:</span> <span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// Get current date</span>\n      data<span class=\"token punctuation\">.</span>createdDate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toISOString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"T\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n\n      <span class=\"token comment\">// Parse tags as yaml array</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>tags<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        data<span class=\"token punctuation\">.</span>tags <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\\ntags:\\n  - </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>data<span class=\"token punctuation\">.</span>tags<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\",\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n  - \"</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n      <span class=\"token punctuation\">}</span>\n\n      <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">{</span>\n          type<span class=\"token operator\">:</span> <span class=\"token string\">\"add\"</span><span class=\"token punctuation\">,</span>\n          path<span class=\"token operator\">:</span> <span class=\"token string\">\"../data/blog/{{createdDate}}--{{dashCase title}}/index.md\"</span><span class=\"token punctuation\">,</span>\n          templateFile<span class=\"token operator\">:</span> <span class=\"token string\">\"templates/blog-post-md.template\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><a href=\"https://dev.to/ekafyi/adding-generators-to-your-gatsby-site-with-plop-2gd5\">REF</a></p>","frontmatter":{"createdDate":"2020-02-24","path":"/blog/generating-blog-posts-pt-1","title":"Generating Blog Posts from Markdown Part 1"}}},"pageContext":{}}}